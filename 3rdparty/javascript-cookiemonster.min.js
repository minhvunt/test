function CookieMonster(n){this.channel_=n.channel;this.topic_="http-on-modify-request";this.observerService_=Components.classes["@mozilla.org/observer-service;1"].getService(Components.interfaces.nsIObserverService);this.observerService_.addObserver(this,this.topic_,!1);this.lunchTime_=new Scheduler(this.stopEating,15e3)}function Scheduler(n,t){this.callback_=n;this.timer_=Components.classes["@mozilla.org/timer;1"].createInstance(Components.interfaces.nsITimer);var i=Components.classes["@mozilla.org/observer-service;1"].getService(Components.interfaces.nsIObserverService);i.addObserver(this,"xpcom-shutdown",!1);this.timer_.initWithCallback(this,t,this.timer_.TYPE_ONE_SHOT)}CookieMonster.prototype.QueryInterface=function(n){if(n.equals(Components.interfaces.nsISupports)||n.equals(Components.interfaces.nsIObserver))return this;throw Components.results.NS_ERROR_NO_INTERFACE;};CookieMonster.prototype.observe=function(n,t){t==this.topic_&&n==this.channel_&&(this.channel_.QueryInterface(Components.interfaces.nsIHttpChannel),this.channel_.setRequestHeader("Cookie","",!1),this.lunchTime_.stop(),this.stopEating())};CookieMonster.prototype.stopEating=function(){this.observerService_.removeObserver(this,this.topic_);delete this.channel_;delete this.lunchTime_;delete this.observerService_};Scheduler.prototype.QueryInterface=function(n){if(n.equals(Components.interfaces.nsISupports)||n.equals(Components.interfaces.nsITimerCallback)||n.equals(Components.interfaces.nsIObserver))return this;throw Components.results.NS_ERROR_NO_INTERFACE;};Scheduler.prototype.observe=function(n,t){t=="xpcom-shutdown"&&this.stop()};Scheduler.prototype.stop=function(){if(this.timer_){this.timer_.cancel();this.timer_=null;this.callback_=null;var n=Components.classes["@mozilla.org/observer-service;1"].getService(Components.interfaces.nsIObserverService);n.removeObserver(this,"xpcom-shutdown")}};Scheduler.prototype.notify=function(){this.callback_();this.stop()};
/*
//# sourceMappingURL=javascript-cookiemonster.min.js.map
*/