try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}$.browser.ie6=$.browser.msie&&parseFloat($.browser.version)<parseFloat(7);ReadyObject={isReady:!1,init:function(){this.isReady=!0},ready:function(n){AV.ExecQueue.add(n,function(){return this.isReady},this)}};AV=$.extend({modules:{},UITheme:"vimua",oldHash:location.hash,hashs:{},version:1.3,elems:{},innerText:$.browser.msie?$.browser.ie6?"innerText":"innerText":"textContent",ajaxIndicator:!1,allOrderedLinks:[],cookie:function(n,t){if(typeof t!="undefined")jQuery.cookie(n,t,{expires:7,path:AV.path});else return jQuery.cookie(n)},rpc:function(n,t){return this.load("3rdparty/jQuery/jquery.rpc.js"),$.rpc(n,"xml",function(){t.call(this)})},call:function(n,t,i,r){this.load("3rdparty/jQuery/jqSOAPClient.beta.js",function(){var e=new SOAPObject(t),f,u,o;if(typeof i=="object"){f=[];for(u in i)f.push({name:u,value:i[u]});for(u=f.length-1;u>=0;u--)e.attr(f[u].name,f[u].value)}o=new SOAPRequest(t,e);SOAPClient.Proxy=n;SOAPClient.SendRequest(o,r)})},elem:function(n){var t=AV.elems[n];return t?t:AV.elems[n]=document.getElementById(n)},sizeof:function(n){var t,i;if(typeof n=="object"){if(n.length)return n.length;t=0;for(i in n)typeof n[i]!="function"&&t++;return parseInt(t)}return typeof n.length!="undefined"?n.length:0},xml:function(n,t){return AV.xmlToJson($(t,AV.read(n,{dataType:"xml",async:!1})))},xmlToJson:function(n,t){var i={},r=0,u=!1;if(n.children)n.children().each(function(){var f=$(this).children(),n;r!=0||typeof i[this.tagName]!="undefined"||u?(r==0&&typeof i[this.tagName]!="undefined"&&(i=[i[this.tagName]]),n=++r):typeof t!="undefined"&&t==this.tagName+"s"?(n=0,u=!0,i=[]):n=this.tagName;i[n]=f.length>0?AV.xmlToJson($(this),n):$(this).text();f=null});else return n;return i},template:function(n,t){return $.fn.pureJSTemplate({id:n,data:t})},request:function(n,t){typeof t=="undefined"&&(t="");var r="[?&]"+n+"=([^&#]*)",i=new RegExp(r).exec(location.href);return i?i[1]:t},buildURL:function(n){var t="?";for(var i in n)t+="&"+i+"="+encodeURI(n[i]);return t},read:function(n,t,i){var r,u,f;if(n){if(typeof t=="function"&&(i=t,t={}),AV.allLinks[n]){i&&i.call(this);return}if(t||(t={}),t.dataType||(t.dataType="html"),n.indexOf("http://")!=-1&&n.indexOf(".js")!=-1)$("body").append('<script src="'+n+'"><\/script>'),AV.allLinks[n]=2,AV.allOrderedLinks.push(n);else{if(n.indexOf("http://")==0&&n.indexOf(location.host)==-1&&(n=encodeURIComponent(n)),n.indexOf(".css")!=-1){$("body").append('<link rel="stylesheet" type="text/css" href="'+n+'">');AV.allLinks[n]=2;AV.allOrderedLinks.push(n);return}if(n.indexOf(".js")!=-1&&navigator.userAgent.toLowerCase().indexOf("chrome")==-1&&navigator.userAgent.toLowerCase().indexOf("safari")==-1&&navigator.userAgent.toLowerCase().indexOf("mozilla/5.0")==-1){r=document.createElement("SCRIPT");r.src=n;document.body.appendChild(r);$.browser.msie?AV.ExecQueue.add(function(){AV.allLinks[n]=2;AV.allOrderedLinks.push(n);i&&i.call(this)},function(){return r.readyState=="complete"||r.readyState=="loaded"}):(u=document.createElement("SCRIPT"),u.text='AV.allLinks["'+n+'"] = 2; AV.allOrderedLinks.push("'+n+'");',document.body.appendChild(u),i&&AV.ExecQueue.add(function(){i.call(this)},function(){return AV.allLinks[n]>=2}));return}return f="",AV.allLinks[n]=1,$.ajax($.extend({url:n+(/\?/.test(n)?"&":"?")+"v="+AV.version,cache:!0,success:function(data){if(t.dataType=="html")if(n.indexOf(".css")!=-1){var parts=n.split("/");parts.splice(parts.length-1,1);parts=parts.join("/")+"/";data=data.replace(/url\s*\(\s*(["']?)/gi,"url($1"+parts);$("body").append("<style>"+data+"<\/style>")}else n.indexOf(".js")!=-1&&eval(data);else f=data;AV.allLinks[n]=2;AV.allOrderedLinks.push(n);i&&i.call(this,data)}},t)),f}}},getComponentURL:function(n){var t={name:n,path:"",type:""},i;return n.indexOf("http://")!=-1?(t.path=AV.rootURL+"get.php?url="+encodeURI(n),t.type="cross-domain"):n.indexOf("3rdparty")!=-1?(t.path=AV.rootURL+n,t.type="3rdparty"):n.indexOf(".")!=-1?(i=n.split("."),t.package=i[0],i.shift(),t.path=AV.rootURL+"packages/"+t.package+"/"+i.join(".")+".js",t.type="module"):(t.packagePath=AV.rootURL+"packages/"+n+"/",t.path=t.packagePath+n+".js",t.type="package"),t},load:function(){var n=[],i,f,t,r,o,u,e,s,h,c,l;if(arguments.length>0)if(typeof arguments[0]=="function")arguments[0].call(this);else{if(i=arguments.length,typeof arguments[arguments.length-1]=="function"&&i--,typeof arguments[0]=="object"&&arguments[0].length&&typeof arguments[0][0]=="object"&&arguments[0][0].length){n=arguments;f=n[0].splice(0,1)[0];n[0].length>0?f.push(function(){AV.load(n[0],n[1])}):f.push(n[1]);AV.load.apply(this,f);return}for(t=0;t<i;t++)if(typeof arguments[t]=="string"&&(n[t]=AV.getComponentURL(arguments[t]),!AV.allLinks[n[t].path])){if(r=n[t],n[t].type=="module"){for(o=arguments[t].split("."),u=[],e=0;e<o.length-1;e++)s=o.slice(0,e+1).join("."),h=AV.getComponentURL(s),(!AV.allLinks[h.path]||AV.allLinks[h.path]<2)&&u.push(s);if(u.length>0){c=arguments[t];u.push(function(){AV.load(c)});AV.load.apply(this,u);continue}}AV.read(n[t].path,function(){switch(r.type){case"package":AV[r.name]&&typeof AV[r.name].init=="function"&&AV[r.name].init()}})}typeof arguments[i]=="function"&&(l=arguments,AV.ExecQueue.add(function(){l[i].call(this)},function(){for(var ok,i=0;i<i;i++){if(!AV.allLinks[n[i].path]||AV.allLinks[n[i].path]<2)return!1;if(n[i].type=="module"||n[i].type=="package"){ok=!0;try{eval("$ok = (typeof(AV."+n[i].name+') != "undefined");')}catch(e){$ok=!1}if(!$ok)return!1}}return!0},arguments))}},run:function(){AV.ready(function(){AV.read(AV.packagePath+"App.js",function(){AV.read(AV.path+"App.js",function(){AV.App.init();AV.App.run()})})})},using:function(n,t,i){var r=AV.App.currentModule;AV.load(n,function(){var lastModule=AV.App.currentModule,modules;if(AV.App.currentModule=r,eval("var module = new AV."+n+"();"),AV.App.currentModule=lastModule,module.name=n,$.extend(module,t),module.modules){modules={};module.applyFunction(function(){for(var n in this.modules)AV.using(this.modules[n].name,$.extend({position:n},this.modules[n]),function(){modules[this.position]=1})});AV.ExecQueue.add(function(){module.init&&module.init();i&&i.call(module)},function(){for(var n in module.modules)if(!modules[n])return!1;return!0});return}module.init&&module.init();i&&i.call(module)})},dialog:function(n,t,i){var u=$AV(n),r="Dialog-"+n.replace(/\./ig,"-"),f,e;u?(t&&$.extend(u,t),$("#"+r).show(),(i||$("#"+r).html()=="")&&(e=u.applyFunction("draw"),$("#"+r).html('<div id="module-'+u.id+'">'+(e?e:"")+"<\/div>")),typeof u.onOpen=="function"&&u.onOpen()):(f={region:"dialog",position:0},t&&$.extend(f,t),AV.using(n,f,function(){$("#"+r).length==0?$("body").append('<div id="'+r+'" style="width:100%;"><\/div>'):$("#"+r).show();var n=this.applyFunction("draw");$("#"+r).html('<div id="module-'+this.id+'">'+(n?n:"")+"<\/div>");typeof this.onOpen=="function"&&this.onOpen()}))},extend:function(n,t){var i=function(){typeof n!="undefined"&&n.apply(this,arguments)};return typeof n!="undefined"&&$.extend(i.prototype,n.prototype,t),i},sizeof:function(n){var t,i;if(typeof n=="object"){t=0;for(i in n)typeof n[i]!="function"&&t++;return parseInt(t)}return typeof n.length!="undefined"?n.length:0},alert:function(n,t){AV.load("3rdparty/jQuery/jGrowl/jquery.jgrowl.css");AV.load("3rdparty/jQuery/jGrowl/jquery.jgrowl_minimized.js",function(){$.jGrowl(n,t)})},log:function(n){typeof console!="undefined"?console.log(n):($("#log-content").length||$("body").append('<div id="log-content"><\/div>'),$("#log-content").append(typeof n=="object"?$.toJSON(n):n))},numberFormat:function(n){var f,r,i,t,u;if(n&&n!="ATC"&&n!="ATO"){if(f=Math.abs(n),!(f>=0))return 0;r=Math.floor(f);i=Math.abs(Math.round(f*100)-r*100)/100;i&&(i=i.toString().substr(1,3),i[2]=="0"&&(i=i.substr(0,2)));t="";u=-1;do u!=-1&&(u<10?t="00"+t:parseInt(u)<100&&(t="0"+t.toString())),u=r%1e3,t=u+(t?","+t:i),r=Math.floor(r/1e3);while(r>0);return n<0?"-"+t:t}return n==0?0:typeof n=="undefined"?0:n},weightFormat:function(n){var t;return n==0?"":(t=AV.numberFormat(Math.round(n*10))+"",t?t.substr(0,t.length-1):t)},getParameter:function(n,t){var t=t+"=";if(n.length>0)return(begin=n.indexOf(t),begin!=-1)?(begin+=t.length,end=n.indexOf("&",begin),end==-1&&(end=n.length),unescape(n.substring(begin,end)).replace("#","")):"null"},clientWidth:function(){if(this.oldClientWidth)return this.oldClientWidth;var n=0;return typeof innerWidth=="number"?n=window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?n=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(n=document.body.clientWidth),this.oldClientWidth=n,n},clientHeight:function(){if(AV.oldClientHeight)return AV.oldClientHeight;var n=0;return typeof innerWidth=="number"?n=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?n=document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(n=document.body.clientHeight),AV.oldClientHeight=n,n},makeCache:function(){var n={};for(var t in AV.allOrderedLinks)n["links["+t+"]"]=AV.allOrderedLinks[t];n.appName=AV.packageApp;$.post(AV.rootURL+"model/makePageCache.php",n)},resizeFunctions:[],resize:function(n){if(n)AV.resizeFunctions.push(n);else for(var t=0,i=AV.resizeFunctions.length;t<i;t++)AV.resizeFunctions[t].call(null)},ExecQueue:{queue:[],isRunning:!1,interval:!1,run:function(){this.interval||(this.interval=setInterval(this.intervalFunction,10))},intervalFunction:function(){var n;if(!AV.ExecQueue.isRunning){for(AV.ExecQueue.isRunning=!0,n=0;n<AV.ExecQueue.queue.length;n++)(AV.ExecQueue.queue[n].isLoop||!AV.ExecQueue.queue[n].isCalled)&&AV.ExecQueue.queue[n].condition.call(AV.ExecQueue.queue[n].context)&&(AV.ExecQueue.queue[n].isCalled=!0,AV.ExecQueue.queue[n].callback.call(AV.ExecQueue.queue[n].context));for(n=0;n<AV.ExecQueue.queue.length;)AV.ExecQueue.queue[n].isCalled&&!AV.ExecQueue.queue[n].isLoop?AV.ExecQueue.queue.splice(n,1):n++;AV.ExecQueue.queue.length==0&&(clearInterval(AV.ExecQueue.interval),AV.ExecQueue.interval=!1);AV.ExecQueue.isRunning=!1}},add:function(n,t,i,r){t.call(i)?n.call(i):(this.queue.push({callback:n,condition:t,context:i,isLoop:r?!0:!1,isCalled:!1}),this.interval||this.run())}},Options:{definitions:{language:"la"},save:function(n,t){if(typeof n!="undefined"){typeof t!="undefined"&&(this[n]=t);typeof[this.definitions[n]]=="object"||typeof[this.definitions[n]]=="array"?AV.cookie(n,$.toJSON(this[n])):AV.cookie(n,this[n]);return}for(var i in this.definitions)typeof[this.definitions[i]]=="object"||typeof[this.definitions[i]]=="array"?AV.cookie(i,$.toJSON(this[i],{})):AV.cookie(i,this[i])},load:function(){var n,t;for(n in this.definitions)t=null,AV.cookie(n)&&(typeof[this.definitions[n]]=="object"||typeof[this.definitions[n]]=="array"?typeof $.evalJSON!="undefined"&&(t=$.evalJSON(AV.cookie(n))):t=AV.cookie(n)),this[n]=t==null?this.definitions[n]:t;AV.Options.hideColumns&&!AV.Options.hideColumns.HA&&(AV.Options.hideColumns=this.definitions.hideColumns)}},Data:{schema:{},addSchema:function(n,t){for(var i=n.split("."),r=AV.Data,u=0;u<i.length-1;u++)typeof r[i[u]]=="undefined"&&(r[i[u]]={}),r=r[i[u]];r[i[i.length-1]]=this.schema[n]=function(i,r){AV.call(t,n,i,r)}}},App:$.extend({layout:"",skin:"",version:"1.0",modules:{},currentPage:!1,maxModuleId:0,currentModule:null,configPath:"config.xml",run:function(){$.extend(AV.App,AV.xml(AV.path+this.configPath,"root"));AV.Options.load();AV.App.isGoLive=="1"&&AV.read(AV.path+AV.App.layout+".html",{async:!1},function(n){$("body").append(n)});var n=location.pathname.split("/");this.pageName=n[n.length-1].replace(/\.html/i,"");this.pageName||(this.pageName="index");this.ready(function(){AV.App.loadPage(AV.App.pageName)})},loadPage:function(n){var i,t;this.currentPage=AV.xml(AV.path+"pages/"+n+".xml","page");(this.pageLayout=this.currentPage.layout)||(this.pageLayout="Default");i={};for(t in this.currentPage.modules)typeof this.currentPage.modules[t]=="object"&&AV.using(this.currentPage.modules[t].name,$.extend({position:t},this.currentPage.modules[t]),function(){i[this.position]=1});AV.ExecQueue.add(function(){AV.App.isReady=!0;$("body").append(AV.template(AV.App.pageLayout))},function(){for(var n in AV.App.currentPage.modules)if(typeof AV.App.currentPage.modules[n]=="object"&&!i[n])return!1;return!0})},region:function(n){var i,r,t,u;i=this.currentModule?this.currentModule:null;r="";for(t in this.modules)this.modules[t].region==n&&(i==null&&this.modules[t].parent==null||i&&this.modules[t].parent&&i.id==this.modules[t].parent.id)&&(u=this.modules[t].applyFunction("draw"),r+='<div id="module-'+this.modules[t].id+'">'+(u?u:"")+"<\/div>");return r},image:function(n){return AV.path+"skins/"+AV.App.skin+"/images/"+n},isChild:function(n,t){while(n!=-1){if(n==t)return!0;if(AV.App.modules[n]&&AV.App.modules[n].parent)n=AV.App.modules[n].parent.id;else return!1}return!1}},ReadyObject),Module:function(){this.id=++AV.App.maxModuleId;AV.App.modules[this.id]=this;this.parent=AV.App.currentModule}},ReadyObject,{init:function(){var t=location.pathname,n=t.split("/"),i;AV.path=n.slice(0,n.length-1).join("/")+"/";AV.packagePath=n.slice(0,n.length-2).join("/")+"/";AV.packageApp=n[n.length-3]+"/"+n[n.length-2]+"/";AV.appName=n[n.length-2];AV.App.layout=AV.App.skin=AV.appName;AV.rootURL=t.substr(0,t.indexOf("/apps/")+1);AV.fileName=n[n.length-1];typeof AV.allLinks=="undefined"&&(AV.allLinks={},AV.allLinks[AV.rootURL+"3rdparty/jQuery/jquery-1.11.0.min.js"]=2,AV.allLinks[AV.rootURL+"packages/AV.js"]=2,AV.allOrderedLinks.push(AV.rootURL+"3rdparty/jQuery/jquery-1.11.0.min.js"),AV.allOrderedLinks.push(AV.rootURL+"packages/AV.js"),i=jQuery('<div id="loader"><img src="'+AV.rootURL+'packages/loading.gif" alt="loading..." /><\/div>').css({position:"absolute",top:"1em",left:"1em"}).appendTo("body").hide(),jQuery().ajaxStart(function(){}).ajaxStop(function(){}).ajaxError(function(){}),AV.load("3rdparty/jQuery/jquery.cookie.js","3rdparty/jQuery/json/jquery.json.min.js","3rdparty/jQuery/pureJSTemplate.js",function(){AV.ExecQueue.add(function(){$.fn.pureJSTemplate.setDelimiters("(*","*)");AV.isReady=!0},function(){return $.fn.pureJSTemplate})}));$(window).resize(function(){var n=AV.oldClientWidth,t=AV.oldClientHeight;AV.oldClientWidth=0;AV.oldClientHeight=0;(n!=AV.clientWidth()||t!=AV.clientHeight())&&AV.resize()})},Lang:function(n){return typeof n=="string"&&typeof AV.Lang[n]=="string"?AV.Lang[n]:n}});elem=AV.elem;$L=Lang=AV.Lang;$AV=function(n,t){var i=AV.App.modules,r=-1,f=n.split(" "),e,u;if(f.length>1)return(e=$AV(f.splice(0,1),t),e)?$AV(f.join(" "),e):null;typeof t=="object"?r=t.id:typeof t=="number"&&(r=t);for(u in i)if(i[u].name==n&&(r==-1||AV.App.isChild(i[u].id,r)))return i[u];return null};$.extend(AV.Module.prototype,{$cache:!1,data:{},layout:"",applyFunction:function(n){var i=AV.App.currentModule,t;return module=AV.App.currentModule=this,t=typeof n=="function"?n.call(this):this[n](),AV.App.currentModule=i,t},draw:function(){this.ready(function(){this.reload()})},reload:function(){this.applyFunction(function(){this.layout&&(this.html(AV.template(this.layout,this.data)),this.initEvents())})},initEvents:function(){},$:function(){return this.$cache&&this.$cache.length>0?this.$cache:(this.$cache=$("#module-"+this.id),this.$cache)},html:function(n){return this.$().html(n)},append:function(n){return this.$().append(n)},close:function(){$("#Dialog-"+this.name.replace(/\./ig,"-")).hide();typeof this.onClose=="function"&&this.onClose()}},ReadyObject,{ready:function(n){AV.ExecQueue.add(function(){this.applyFunction(n)},function(){return this.isReady&&this.$().length},this)}});AV.init();
/*
//# sourceMappingURL=AV.min.js.map
*/